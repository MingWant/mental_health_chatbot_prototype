"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/chat/page",{

/***/ "(app-pages-browser)/./src/app/chat/page.tsx":
/*!*******************************!*\
  !*** ./src/app/chat/page.tsx ***!
  \*******************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ ChatPage; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lib_auth__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/auth */ \"(app-pages-browser)/./src/lib/auth.ts\");\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/link */ \"(app-pages-browser)/./node_modules/next/dist/api/link.js\");\n/* harmony import */ var _components_SessionManager__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./components/SessionManager */ \"(app-pages-browser)/./src/app/chat/components/SessionManager.tsx\");\n/* harmony import */ var _components_SessionInfo__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./components/SessionInfo */ \"(app-pages-browser)/./src/app/chat/components/SessionInfo.tsx\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\nfunction ChatPage() {\n    _s();\n    const [messages, setMessages] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [input, setInput] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [sessionId, setSessionId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"session_\".concat(Date.now()));\n    const [currentSessionTitle, setCurrentSessionTitle] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"New Chat\");\n    const [isInitialized, setIsInitialized] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const messagesEndRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [useStreaming, setUseStreaming] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [refreshKey, setRefreshKey] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [isLoadingHistory, setIsLoadingHistory] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const createSessionIfNeededWithoutHistory = async ()=>{\n        try {\n            const apiUrl = \"http://localhost:8001\" || 0;\n            const auth = (0,_lib_auth__WEBPACK_IMPORTED_MODULE_2__.getAuth)();\n            // Check existing session list\n            const sessionsResponse = await fetch(\"\".concat(apiUrl, \"/api/v1/chat/sessions?user_id=\").concat((auth === null || auth === void 0 ? void 0 : auth.user_id) || 1, \"&agent_type=mental_health\"));\n            if (sessionsResponse.ok) {\n                const sessionsData = await sessionsResponse.json();\n                const sessions = sessionsData.sessions || (Array.isArray(sessionsData) ? sessionsData : []);\n                if (sessions.length > 0) {\n                    // Ensure sessions are sorted by time in descending order (backend already sorted, but frontend confirms)\n                    const sortedSessions = sessions.sort((a, b)=>{\n                        const timeA = new Date(a.updated_at || a.created_at || \"\").getTime();\n                        const timeB = new Date(b.updated_at || b.created_at || \"\").getTime();\n                        return timeB - timeA // Descending order, newest first\n                        ;\n                    });\n                    // Use the latest session (sorted by time in descending order, newest first)\n                    const latestSession = sortedSessions[0];\n                    setSessionId(latestSession.session_id);\n                    setRefreshKey((k)=>k + 1);\n                    setCurrentSessionTitle(latestSession.title || \"New Chat\");\n                    // Don't trigger history loading to avoid overwriting user messages\n                    return latestSession.session_id;\n                }\n            }\n            // If no existing sessions, create a new one\n            const response = await fetch(\"\".concat(apiUrl, \"/api/v1/chat/sessions?agent_type=mental_health&user_id=\").concat((auth === null || auth === void 0 ? void 0 : auth.user_id) || 1, \"&title=\").concat(encodeURIComponent(currentSessionTitle)), {\n                method: \"POST\"\n            });\n            if (response.ok) {\n                const sessionData = await response.json();\n                if (sessionData.session_id) {\n                    setSessionId(sessionData.session_id);\n                    setRefreshKey((k)=>k + 1);\n                    return sessionData.session_id;\n                }\n            }\n        } catch (error) {\n            console.error(\"Failed to create session:\", error);\n        }\n        // If failed, fallback to current sessionId\n        return sessionId;\n    };\n    const createSessionIfNeeded = async ()=>{\n        try {\n            const apiUrl = \"http://localhost:8001\" || 0;\n            const auth = (0,_lib_auth__WEBPACK_IMPORTED_MODULE_2__.getAuth)();\n            // Check existing session list\n            const sessionsResponse = await fetch(\"\".concat(apiUrl, \"/api/v1/chat/sessions?user_id=\").concat((auth === null || auth === void 0 ? void 0 : auth.user_id) || 1, \"&agent_type=mental_health\"));\n            if (sessionsResponse.ok) {\n                const sessionsData = await sessionsResponse.json();\n                const sessions = sessionsData.sessions || (Array.isArray(sessionsData) ? sessionsData : []);\n                if (sessions.length > 0) {\n                    // Ensure sessions are sorted by time in descending order (backend already sorted, but frontend confirms)\n                    const sortedSessions = sessions.sort((a, b)=>{\n                        const timeA = new Date(a.updated_at || a.created_at || \"\").getTime();\n                        const timeB = new Date(b.updated_at || b.created_at || \"\").getTime();\n                        return timeB - timeA // Descending order, newest first\n                        ;\n                    });\n                    // Use the latest session (sorted by time in descending order, newest first)\n                    const latestSession = sortedSessions[0];\n                    setSessionId(latestSession.session_id);\n                    setRefreshKey((k)=>k + 1);\n                    setCurrentSessionTitle(latestSession.title || \"New Chat\");\n                    // Automatically load recent session history\n                    await loadChatHistory(latestSession.session_id);\n                    return latestSession.session_id;\n                }\n            }\n            // If no existing sessions, create a new one\n            const response = await fetch(\"\".concat(apiUrl, \"/api/v1/chat/sessions?agent_type=mental_health&user_id=\").concat((auth === null || auth === void 0 ? void 0 : auth.user_id) || 1, \"&title=\").concat(encodeURIComponent(currentSessionTitle)), {\n                method: \"POST\"\n            });\n            if (response.ok) {\n                const sessionData = await response.json();\n                if (sessionData.session_id) {\n                    setSessionId(sessionData.session_id);\n                    setRefreshKey((k)=>k + 1);\n                    return sessionData.session_id;\n                }\n            }\n        } catch (error) {\n            console.error(\"Failed to create session:\", error);\n        }\n        // If failed, fallback to current sessionId\n        return sessionId;\n    };\n    // Load chat history\n    const loadChatHistory = async (sessionId)=>{\n        setIsLoadingHistory(true);\n        try {\n            const apiUrl = \"http://localhost:8001\" || 0;\n            const auth = (0,_lib_auth__WEBPACK_IMPORTED_MODULE_2__.getAuth)();\n            const response = await fetch(\"\".concat(apiUrl, \"/api/v1/chat/sessions/\").concat(sessionId, \"/messages?user_id=\").concat((auth === null || auth === void 0 ? void 0 : auth.user_id) || 1, \"&agent_type=mental_health\"));\n            if (response.ok) {\n                const data = await response.json();\n                const messages = data.messages || (Array.isArray(data) ? data : []);\n                const historyMessages = messages.map((msg)=>({\n                        id: msg.id,\n                        role: msg.role,\n                        content: msg.content,\n                        timestamp: msg.created_at\n                    }));\n                // Only set history messages when there are no current messages to avoid overwriting user's new messages\n                setMessages((prev)=>{\n                    // If no current messages, directly set history messages\n                    if (prev.length === 0) {\n                        return historyMessages;\n                    }\n                    // If there are current messages, keep them, don't overwrite\n                    return prev;\n                });\n            }\n        } catch (error) {\n            console.error(\"Failed to load history:\", error);\n        } finally{\n            setIsLoadingHistory(false);\n        }\n    };\n    // Handle session switching\n    const handleSessionChange = (newSessionId)=>{\n        setSessionId(newSessionId);\n        setMessages([]); // Clear current messages\n        setRefreshKey((k)=>k + 1);\n    };\n    // Handle session deletion\n    const handleSessionDelete = (deletedSessionId)=>{\n        if (deletedSessionId === sessionId) {\n            // If the deleted session is the current one, reset to temporary sessionId\n            const newSessionId = \"session_\".concat(Date.now());\n            setSessionId(newSessionId);\n            setCurrentSessionTitle(\"New Chat\");\n            setMessages([]);\n        }\n    };\n    // Handle history loading\n    const handleLoadHistory = (sessionId)=>{\n        loadChatHistory(sessionId);\n    };\n    // Initialize function: automatically load the most recent session when page loads\n    const initializeSession = async ()=>{\n        if (isInitialized) return;\n        try {\n            const apiUrl = \"http://localhost:8001\" || 0;\n            const auth = (0,_lib_auth__WEBPACK_IMPORTED_MODULE_2__.getAuth)();\n            // Get session list\n            const sessionsResponse = await fetch(\"\".concat(apiUrl, \"/api/v1/chat/sessions?user_id=\").concat((auth === null || auth === void 0 ? void 0 : auth.user_id) || 1, \"&agent_type=mental_health\"));\n            if (sessionsResponse.ok) {\n                const sessionsData = await sessionsResponse.json();\n                const sessions = sessionsData.sessions || (Array.isArray(sessionsData) ? sessionsData : []);\n                console.log(\"Retrieved session list:\", sessions);\n                if (sessions.length > 0) {\n                    // Ensure sessions are sorted by time in descending order (backend already sorted, but frontend confirms)\n                    const sortedSessions = sessions.sort((a, b)=>{\n                        const timeA = new Date(a.updated_at || a.created_at || \"\").getTime();\n                        const timeB = new Date(b.updated_at || b.created_at || \"\").getTime();\n                        return timeB - timeA // Descending order, newest first\n                        ;\n                    });\n                    console.log(\"Sorted session list:\", sortedSessions);\n                    // Use the latest session (sorted by time in descending order, newest first)\n                    const latestSession = sortedSessions[0];\n                    console.log(\"Selected latest session:\", latestSession);\n                    setSessionId(latestSession.session_id);\n                    setRefreshKey((k)=>k + 1);\n                    setCurrentSessionTitle(latestSession.title || \"New Chat\");\n                    // Automatically load recent session history\n                    await loadChatHistory(latestSession.session_id);\n                }\n            }\n            setIsInitialized(true);\n        } catch (error) {\n            console.error(\"Failed to initialize session:\", error);\n            setIsInitialized(true);\n        }\n    };\n    const scrollToBottom = ()=>{\n        var _messagesEndRef_current;\n        (_messagesEndRef_current = messagesEndRef.current) === null || _messagesEndRef_current === void 0 ? void 0 : _messagesEndRef_current.scrollIntoView({\n            behavior: \"smooth\"\n        });\n    };\n    // Initialize session when page loads\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        initializeSession();\n    }, []);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        scrollToBottom();\n    }, [\n        messages\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const auth = (0,_lib_auth__WEBPACK_IMPORTED_MODULE_2__.getAuth)();\n        if (!auth) {\n            window.location.href = \"/auth\";\n            return;\n        }\n    }, []);\n    const sendMessage = async ()=>{\n        if (!input.trim() || loading) return;\n        const userMessage = {\n            id: Date.now() + Math.random(),\n            role: \"user\",\n            content: input,\n            timestamp: new Date().toISOString()\n        };\n        // Immediately add user message to state\n        setMessages((prev)=>[\n                ...prev,\n                userMessage\n            ]);\n        setInput(\"\");\n        setLoading(true);\n        // Ensure user message has been added to state before sending\n        await new Promise((resolve)=>setTimeout(resolve, 0));\n        if (useStreaming) {\n            await sendStreamingMessage(userMessage.content);\n        } else {\n            await sendNonStreamingMessage(userMessage.content);\n        }\n    };\n    const sendStreamingMessage = async (content)=>{\n        try {\n            var _response_body;\n            const apiUrl = \"http://localhost:8001\" || 0;\n            // First create or get valid session ID, but don't trigger history loading\n            const sid = await createSessionIfNeededWithoutHistory();\n            const response = await fetch(\"\".concat(apiUrl, \"/api/v1/chat/stream\"), {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    session_id: sid,\n                    message: content,\n                    agent_type: \"mental_health\"\n                })\n            });\n            if (!response.ok) {\n                throw new Error(\"Network response was not ok\");\n            }\n            const reader = (_response_body = response.body) === null || _response_body === void 0 ? void 0 : _response_body.getReader();\n            if (!reader) {\n                throw new Error(\"No reader available\");\n            }\n            const decoder = new TextDecoder();\n            const assistantMessageId = Date.now() + Math.random() + 1;\n            const assistantMessage = {\n                id: assistantMessageId,\n                role: \"assistant\",\n                content: \"\",\n                timestamp: new Date().toISOString()\n            };\n            setMessages((prev)=>[\n                    ...prev,\n                    assistantMessage\n                ]);\n            try {\n                while(true){\n                    const { done, value } = await reader.read();\n                    if (done) break;\n                    const chunk = decoder.decode(value);\n                    const lines = chunk.split(\"\\n\");\n                    for (const line of lines){\n                        if (line.startsWith(\"data: \")) {\n                            try {\n                                const data = JSON.parse(line.slice(6));\n                                if (data.type === \"content\") {\n                                    setMessages((prev)=>prev.map((msg)=>msg.id === assistantMessageId ? {\n                                                ...msg,\n                                                content: data.content\n                                            } : msg));\n                                } else if (data.type === \"done\") {\n                                    break;\n                                }\n                            } catch (e) {\n                            // Ignore parsing errors for incomplete JSON\n                            }\n                        }\n                    }\n                }\n            } finally{\n                reader.releaseLock();\n            }\n        } catch (error) {\n            console.error(\"Streaming error:\", error);\n            const errorMessage = {\n                id: Date.now() + Math.random() + 1,\n                role: \"assistant\",\n                content: \"Sorry, there was an error processing your message. Please try again.\",\n                timestamp: new Date().toISOString()\n            };\n            setMessages((prev)=>[\n                    ...prev,\n                    errorMessage\n                ]);\n        } finally{\n            setLoading(false);\n        }\n    };\n    const sendNonStreamingMessage = async (content)=>{\n        try {\n            const apiUrl = \"http://localhost:8001\" || 0;\n            // First create or get valid session ID, but don't trigger history loading\n            const sid = await createSessionIfNeededWithoutHistory();\n            const response = await fetch(\"\".concat(apiUrl, \"/api/v1/chat/messages\"), {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    session_id: sid,\n                    message: content,\n                    agent_type: \"mental_health\"\n                })\n            });\n            if (!response.ok) {\n                throw new Error(\"Network response was not ok\");\n            }\n            const data = await response.json();\n            const assistantMessage = {\n                id: Date.now() + Math.random() + 1,\n                role: \"assistant\",\n                content: data.ai_message.content,\n                timestamp: data.ai_message.created_at\n            };\n            setMessages((prev)=>[\n                    ...prev,\n                    assistantMessage\n                ]);\n        } catch (error) {\n            console.error(\"Non-streaming error:\", error);\n            const errorMessage = {\n                id: Date.now() + Math.random() + 1,\n                role: \"assistant\",\n                content: \"Sorry, there was an error processing your message. Please try again.\",\n                timestamp: new Date().toISOString()\n            };\n            setMessages((prev)=>[\n                    ...prev,\n                    errorMessage\n                ]);\n        } finally{\n            setLoading(false);\n        }\n    };\n    const handleKeyPress = (e)=>{\n        if (e.key === \"Enter\" && !e.shiftKey) {\n            e.preventDefault();\n            sendMessage();\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"flex flex-col h-screen bg-black\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex items-center justify-between p-4 border-b border-white/10\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center gap-4\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-xl font-semibold\",\n                                children: \"Mental Health ChatBot\"\n                            }, void 0, false, {\n                                fileName: \"F:\\\\MingWantBlingStudio\\\\GenAIMentalHealthChatbot\\\\frontend\\\\src\\\\app\\\\chat\\\\page.tsx\",\n                                lineNumber: 422,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-sm text-white/60\",\n                                children: \"|\"\n                            }, void 0, false, {\n                                fileName: \"F:\\\\MingWantBlingStudio\\\\GenAIMentalHealthChatbot\\\\frontend\\\\src\\\\app\\\\chat\\\\page.tsx\",\n                                lineNumber: 423,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_SessionInfo__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                                sessionId: sessionId,\n                                onTitleChange: setCurrentSessionTitle\n                            }, void 0, false, {\n                                fileName: \"F:\\\\MingWantBlingStudio\\\\GenAIMentalHealthChatbot\\\\frontend\\\\src\\\\app\\\\chat\\\\page.tsx\",\n                                lineNumber: 424,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"F:\\\\MingWantBlingStudio\\\\GenAIMentalHealthChatbot\\\\frontend\\\\src\\\\app\\\\chat\\\\page.tsx\",\n                        lineNumber: 421,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center gap-4\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_link__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                                href: \"/\",\n                                className: \"px-3 py-2 bg-white/[0.05] border border-white/10 rounded hover:bg-white/[0.08] text-sm\",\n                                children: \"Home\"\n                            }, void 0, false, {\n                                fileName: \"F:\\\\MingWantBlingStudio\\\\GenAIMentalHealthChatbot\\\\frontend\\\\src\\\\app\\\\chat\\\\page.tsx\",\n                                lineNumber: 430,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_SessionManager__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                                currentSessionId: sessionId,\n                                onSessionChange: handleSessionChange,\n                                onSessionDelete: handleSessionDelete,\n                                onLoadHistory: handleLoadHistory,\n                                refreshKey: refreshKey\n                            }, void 0, false, {\n                                fileName: \"F:\\\\MingWantBlingStudio\\\\GenAIMentalHealthChatbot\\\\frontend\\\\src\\\\app\\\\chat\\\\page.tsx\",\n                                lineNumber: 433,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                className: \"flex items-center gap-2 text-sm\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                        type: \"checkbox\",\n                                        checked: useStreaming,\n                                        onChange: (e)=>setUseStreaming(e.target.checked),\n                                        className: \"rounded\"\n                                    }, void 0, false, {\n                                        fileName: \"F:\\\\MingWantBlingStudio\\\\GenAIMentalHealthChatbot\\\\frontend\\\\src\\\\app\\\\chat\\\\page.tsx\",\n                                        lineNumber: 441,\n                                        columnNumber: 13\n                                    }, this),\n                                    \"Streaming\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"F:\\\\MingWantBlingStudio\\\\GenAIMentalHealthChatbot\\\\frontend\\\\src\\\\app\\\\chat\\\\page.tsx\",\n                                lineNumber: 440,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"F:\\\\MingWantBlingStudio\\\\GenAIMentalHealthChatbot\\\\frontend\\\\src\\\\app\\\\chat\\\\page.tsx\",\n                        lineNumber: 429,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"F:\\\\MingWantBlingStudio\\\\GenAIMentalHealthChatbot\\\\frontend\\\\src\\\\app\\\\chat\\\\page.tsx\",\n                lineNumber: 420,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex-1 overflow-y-auto p-4 space-y-4\",\n                children: [\n                    isLoadingHistory && messages.length === 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"text-center text-white/50 py-8\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500 mx-auto mb-2\"\n                            }, void 0, false, {\n                                fileName: \"F:\\\\MingWantBlingStudio\\\\GenAIMentalHealthChatbot\\\\frontend\\\\src\\\\app\\\\chat\\\\page.tsx\",\n                                lineNumber: 456,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-sm\",\n                                children: \"Loading chat history...\"\n                            }, void 0, false, {\n                                fileName: \"F:\\\\MingWantBlingStudio\\\\GenAIMentalHealthChatbot\\\\frontend\\\\src\\\\app\\\\chat\\\\page.tsx\",\n                                lineNumber: 457,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"F:\\\\MingWantBlingStudio\\\\GenAIMentalHealthChatbot\\\\frontend\\\\src\\\\app\\\\chat\\\\page.tsx\",\n                        lineNumber: 455,\n                        columnNumber: 11\n                    }, this),\n                    messages.length === 0 && !isLoadingHistory && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"text-center text-white/50 py-8\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-lg font-medium mb-2\",\n                                children: \"Welcome to Mental Health ChatBot\"\n                            }, void 0, false, {\n                                fileName: \"F:\\\\MingWantBlingStudio\\\\GenAIMentalHealthChatbot\\\\frontend\\\\src\\\\app\\\\chat\\\\page.tsx\",\n                                lineNumber: 463,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-sm\",\n                                children: [\n                                    \"I'm here to help you with self-care strategies and emotional well-being.\",\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"br\", {}, void 0, false, {\n                                        fileName: \"F:\\\\MingWantBlingStudio\\\\GenAIMentalHealthChatbot\\\\frontend\\\\src\\\\app\\\\chat\\\\page.tsx\",\n                                        lineNumber: 466,\n                                        columnNumber: 15\n                                    }, this),\n                                    \"Share how you're feeling or ask for support.\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"F:\\\\MingWantBlingStudio\\\\GenAIMentalHealthChatbot\\\\frontend\\\\src\\\\app\\\\chat\\\\page.tsx\",\n                                lineNumber: 464,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"F:\\\\MingWantBlingStudio\\\\GenAIMentalHealthChatbot\\\\frontend\\\\src\\\\app\\\\chat\\\\page.tsx\",\n                        lineNumber: 462,\n                        columnNumber: 11\n                    }, this),\n                    messages.map((message)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex items-end gap-3 \".concat(message.role === \"user\" ? \"justify-end\" : \"justify-start\", \" animate-fade-in\"),\n                            children: [\n                                message.role === \"assistant\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex-shrink-0 w-8 h-8 rounded-full bg-gradient-to-br from-blue-400 to-purple-500 flex items-center justify-center shadow-lg transition-transform duration-200 hover:scale-110\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                        className: \"w-5 h-5 text-white\",\n                                        fill: \"currentColor\",\n                                        viewBox: \"0 0 20 20\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                            fillRule: \"evenodd\",\n                                            d: \"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-2 0c0 .993-.241 1.929-.668 2.754l-1.524-1.525a3.997 3.997 0 00.078-2.183l1.562-1.562C15.802 8.249 16 9.1 16 10zm-5.165 3.913l1.58 1.58A5.98 5.98 0 0110 16a5.976 5.976 0 01-2.516-.552l1.562-1.562a4.006 4.006 0 001.789.027zm-4.677-2.796a4.002 4.002 0 01-.041-2.08l-.08-.08-1.53-1.53C3.338 6.36 3 7.14 3 8a5 5 0 005 5c.86 0 1.64-.338 2.22-.887l1.53 1.53a4.002 4.002 0 002.08.041l.08.08-1.562 1.562a3.997 3.997 0 01-1.789-.027z\",\n                                            clipRule: \"evenodd\"\n                                        }, void 0, false, {\n                                            fileName: \"F:\\\\MingWantBlingStudio\\\\GenAIMentalHealthChatbot\\\\frontend\\\\src\\\\app\\\\chat\\\\page.tsx\",\n                                            lineNumber: 480,\n                                            columnNumber: 19\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"F:\\\\MingWantBlingStudio\\\\GenAIMentalHealthChatbot\\\\frontend\\\\src\\\\app\\\\chat\\\\page.tsx\",\n                                        lineNumber: 479,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"F:\\\\MingWantBlingStudio\\\\GenAIMentalHealthChatbot\\\\frontend\\\\src\\\\app\\\\chat\\\\page.tsx\",\n                                    lineNumber: 478,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"max-w-[70%] p-4 rounded-2xl transition-all duration-200 hover:scale-[1.02] \".concat(message.role === \"user\" ? \"bg-gradient-to-r from-primary-500 to-primary-600 text-black shadow-lg hover:shadow-glow\" : \"bg-white/[0.08] border border-white/20 shadow-lg backdrop-blur-sm hover:bg-white/[0.12]\"),\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"whitespace-pre-wrap leading-relaxed\",\n                                            children: message.content\n                                        }, void 0, false, {\n                                            fileName: \"F:\\\\MingWantBlingStudio\\\\GenAIMentalHealthChatbot\\\\frontend\\\\src\\\\app\\\\chat\\\\page.tsx\",\n                                            lineNumber: 492,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"text-xs mt-2 \".concat(message.role === \"user\" ? \"text-black/60\" : \"text-white/40\"),\n                                            children: new Date(message.timestamp).toLocaleTimeString()\n                                        }, void 0, false, {\n                                            fileName: \"F:\\\\MingWantBlingStudio\\\\GenAIMentalHealthChatbot\\\\frontend\\\\src\\\\app\\\\chat\\\\page.tsx\",\n                                            lineNumber: 495,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"F:\\\\MingWantBlingStudio\\\\GenAIMentalHealthChatbot\\\\frontend\\\\src\\\\app\\\\chat\\\\page.tsx\",\n                                    lineNumber: 485,\n                                    columnNumber: 13\n                                }, this),\n                                message.role === \"user\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex-shrink-0 w-8 h-8 rounded-full bg-gradient-to-br from-green-400 to-blue-500 flex items-center justify-center shadow-lg transition-transform duration-200 hover:scale-110\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                        className: \"w-5 h-5 text-white\",\n                                        fill: \"currentColor\",\n                                        viewBox: \"0 0 20 20\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                            fillRule: \"evenodd\",\n                                            d: \"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z\",\n                                            clipRule: \"evenodd\"\n                                        }, void 0, false, {\n                                            fileName: \"F:\\\\MingWantBlingStudio\\\\GenAIMentalHealthChatbot\\\\frontend\\\\src\\\\app\\\\chat\\\\page.tsx\",\n                                            lineNumber: 505,\n                                            columnNumber: 19\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"F:\\\\MingWantBlingStudio\\\\GenAIMentalHealthChatbot\\\\frontend\\\\src\\\\app\\\\chat\\\\page.tsx\",\n                                        lineNumber: 504,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"F:\\\\MingWantBlingStudio\\\\GenAIMentalHealthChatbot\\\\frontend\\\\src\\\\app\\\\chat\\\\page.tsx\",\n                                    lineNumber: 503,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, message.id, true, {\n                            fileName: \"F:\\\\MingWantBlingStudio\\\\GenAIMentalHealthChatbot\\\\frontend\\\\src\\\\app\\\\chat\\\\page.tsx\",\n                            lineNumber: 473,\n                            columnNumber: 11\n                        }, this)),\n                    loading && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-end gap-3 justify-start\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex-shrink-0 w-8 h-8 rounded-full bg-gradient-to-br from-blue-400 to-purple-500 flex items-center justify-center\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                    className: \"w-5 h-5 text-white\",\n                                    fill: \"currentColor\",\n                                    viewBox: \"0 0 20 20\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                        fillRule: \"evenodd\",\n                                        d: \"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-2 0c0 .993-.241 1.929-.668 2.754l-1.524-1.525a3.997 3.997 0 00.078-2.183l1.562-1.562C15.802 8.249 16 9.1 16 10zm-5.165 3.913l1.58 1.58A5.98 5.98 0 0110 16a5.976 5.976 0 01-2.516-.552l1.562-1.562a4.006 4.006 0 001.789.027zm-4.677-2.796a4.002 4.002 0 01-.041-2.08l-.08-.08-1.53-1.53C3.338 6.36 3 7.14 3 8a5 5 0 005 5c.86 0 1.64-.338 2.22-.887l1.53 1.53a4.002 4.002 0 002.08.041l.08.08-1.562 1.562a3.997 3.997 0 01-1.789-.027z\",\n                                        clipRule: \"evenodd\"\n                                    }, void 0, false, {\n                                        fileName: \"F:\\\\MingWantBlingStudio\\\\GenAIMentalHealthChatbot\\\\frontend\\\\src\\\\app\\\\chat\\\\page.tsx\",\n                                        lineNumber: 516,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"F:\\\\MingWantBlingStudio\\\\GenAIMentalHealthChatbot\\\\frontend\\\\src\\\\app\\\\chat\\\\page.tsx\",\n                                    lineNumber: 515,\n                                    columnNumber: 15\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"F:\\\\MingWantBlingStudio\\\\GenAIMentalHealthChatbot\\\\frontend\\\\src\\\\app\\\\chat\\\\page.tsx\",\n                                lineNumber: 514,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"bg-white/[0.08] border border-white/20 p-4 rounded-2xl shadow-lg backdrop-blur-sm\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex items-center gap-2\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"w-2 h-2 bg-blue-400 rounded-full animate-bounce\"\n                                        }, void 0, false, {\n                                            fileName: \"F:\\\\MingWantBlingStudio\\\\GenAIMentalHealthChatbot\\\\frontend\\\\src\\\\app\\\\chat\\\\page.tsx\",\n                                            lineNumber: 521,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"w-2 h-2 bg-blue-400 rounded-full animate-bounce\",\n                                            style: {\n                                                animationDelay: \"0.1s\"\n                                            }\n                                        }, void 0, false, {\n                                            fileName: \"F:\\\\MingWantBlingStudio\\\\GenAIMentalHealthChatbot\\\\frontend\\\\src\\\\app\\\\chat\\\\page.tsx\",\n                                            lineNumber: 522,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"w-2 h-2 bg-blue-400 rounded-full animate-bounce\",\n                                            style: {\n                                                animationDelay: \"0.2s\"\n                                            }\n                                        }, void 0, false, {\n                                            fileName: \"F:\\\\MingWantBlingStudio\\\\GenAIMentalHealthChatbot\\\\frontend\\\\src\\\\app\\\\chat\\\\page.tsx\",\n                                            lineNumber: 523,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"F:\\\\MingWantBlingStudio\\\\GenAIMentalHealthChatbot\\\\frontend\\\\src\\\\app\\\\chat\\\\page.tsx\",\n                                    lineNumber: 520,\n                                    columnNumber: 15\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"F:\\\\MingWantBlingStudio\\\\GenAIMentalHealthChatbot\\\\frontend\\\\src\\\\app\\\\chat\\\\page.tsx\",\n                                lineNumber: 519,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"F:\\\\MingWantBlingStudio\\\\GenAIMentalHealthChatbot\\\\frontend\\\\src\\\\app\\\\chat\\\\page.tsx\",\n                        lineNumber: 513,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        ref: messagesEndRef\n                    }, void 0, false, {\n                        fileName: \"F:\\\\MingWantBlingStudio\\\\GenAIMentalHealthChatbot\\\\frontend\\\\src\\\\app\\\\chat\\\\page.tsx\",\n                        lineNumber: 529,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"F:\\\\MingWantBlingStudio\\\\GenAIMentalHealthChatbot\\\\frontend\\\\src\\\\app\\\\chat\\\\page.tsx\",\n                lineNumber: 453,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"p-4 border-t border-white/10\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex gap-2 items-end\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"textarea\", {\n                                value: input,\n                                onChange: (e)=>setInput(e.target.value),\n                                onKeyPress: handleKeyPress,\n                                placeholder: \"Share how you're feeling or ask for self-care tips...\",\n                                className: \"flex-1 p-4 bg-white/[0.04] border border-white/10 rounded-lg resize-none outline-none focus:ring-2 focus:ring-primary-500 text-base min-h-[64px] max-h-[200px]\",\n                                rows: 3,\n                                disabled: loading || isLoadingHistory\n                            }, void 0, false, {\n                                fileName: \"F:\\\\MingWantBlingStudio\\\\GenAIMentalHealthChatbot\\\\frontend\\\\src\\\\app\\\\chat\\\\page.tsx\",\n                                lineNumber: 535,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: sendMessage,\n                                disabled: loading || !input.trim() || isLoadingHistory,\n                                className: \"px-6 py-3 bg-primary-500 text-black font-medium rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-primary-400 transition h-[52px]\",\n                                children: \"Send\"\n                            }, void 0, false, {\n                                fileName: \"F:\\\\MingWantBlingStudio\\\\GenAIMentalHealthChatbot\\\\frontend\\\\src\\\\app\\\\chat\\\\page.tsx\",\n                                lineNumber: 544,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"F:\\\\MingWantBlingStudio\\\\GenAIMentalHealthChatbot\\\\frontend\\\\src\\\\app\\\\chat\\\\page.tsx\",\n                        lineNumber: 534,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"text-xs text-white/50 mt-2\",\n                        children: \"Press Enter to send, Shift+Enter for new line\"\n                    }, void 0, false, {\n                        fileName: \"F:\\\\MingWantBlingStudio\\\\GenAIMentalHealthChatbot\\\\frontend\\\\src\\\\app\\\\chat\\\\page.tsx\",\n                        lineNumber: 553,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"F:\\\\MingWantBlingStudio\\\\GenAIMentalHealthChatbot\\\\frontend\\\\src\\\\app\\\\chat\\\\page.tsx\",\n                lineNumber: 533,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"F:\\\\MingWantBlingStudio\\\\GenAIMentalHealthChatbot\\\\frontend\\\\src\\\\app\\\\chat\\\\page.tsx\",\n        lineNumber: 418,\n        columnNumber: 5\n    }, this);\n}\n_s(ChatPage, \"wuQmb4VshwEr8dDeijCozaXDgxc=\");\n_c = ChatPage;\nvar _c;\n$RefreshReg$(_c, \"ChatPage\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9hcHAvY2hhdC9wYWdlLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQ21EO0FBQ2Y7QUFDUjtBQUN5QztBQUNuQjtBQVNuQyxTQUFTTzs7SUFDdEIsTUFBTSxDQUFDQyxVQUFVQyxZQUFZLEdBQUdULCtDQUFRQSxDQUFZLEVBQUU7SUFDdEQsTUFBTSxDQUFDVSxPQUFPQyxTQUFTLEdBQUdYLCtDQUFRQSxDQUFDO0lBQ25DLE1BQU0sQ0FBQ1ksU0FBU0MsV0FBVyxHQUFHYiwrQ0FBUUEsQ0FBQztJQUN2QyxNQUFNLENBQUNjLFdBQVdDLGFBQWEsR0FBR2YsK0NBQVFBLENBQUMsV0FBc0IsT0FBWGdCLEtBQUtDLEdBQUc7SUFDOUQsTUFBTSxDQUFDQyxxQkFBcUJDLHVCQUF1QixHQUFHbkIsK0NBQVFBLENBQUM7SUFDL0QsTUFBTSxDQUFDb0IsZUFBZUMsaUJBQWlCLEdBQUdyQiwrQ0FBUUEsQ0FBQztJQUNuRCxNQUFNc0IsaUJBQWlCckIsNkNBQU1BLENBQWlCO0lBQzlDLE1BQU0sQ0FBQ3NCLGNBQWNDLGdCQUFnQixHQUFHeEIsK0NBQVFBLENBQUM7SUFDakQsTUFBTSxDQUFDeUIsWUFBWUMsY0FBYyxHQUFHMUIsK0NBQVFBLENBQUM7SUFDN0MsTUFBTSxDQUFDMkIsa0JBQWtCQyxvQkFBb0IsR0FBRzVCLCtDQUFRQSxDQUFDO0lBRXpELE1BQU02QixzQ0FBc0M7UUFDMUMsSUFBSTtZQUNGLE1BQU1DLFNBQVNDLHVCQUErQixJQUFJO1lBQ2xELE1BQU1HLE9BQU8vQixrREFBT0E7WUFFcEIsOEJBQThCO1lBQzlCLE1BQU1nQyxtQkFBbUIsTUFBTUMsTUFBTSxHQUEwQ0YsT0FBdkNKLFFBQU8sa0NBQW1ELE9BQW5CSSxDQUFBQSxpQkFBQUEsMkJBQUFBLEtBQU1HLE9BQU8sS0FBSSxHQUFFO1lBQ2xHLElBQUlGLGlCQUFpQkcsRUFBRSxFQUFFO2dCQUN2QixNQUFNQyxlQUFlLE1BQU1KLGlCQUFpQkssSUFB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QUFJc0IsS0FBS3RJOzs7Ozs7Ozs7Ozs7MEJBSVosOERBQUNnSDtnQkFBSUMsV0FBVTs7a0NBQ2IsOERBQUNEO3dCQUFJQyxXQUFVOzswQ0FDYiw4REFBQ3NCO2dDQUNDMUMsT0FBT3pHO2dDQUNQcUksVUFBVSxDQUFDakIsSUFBTW5ILFNBQVNtSCxFQUFFa0IsTUFBTSxDQUFDN0IsS0FBSztnQ0FDeEMyQyxZQUFZNUI7Z0NBQ1o2QixhQUFZO2dDQUNaeEIsV0FBVTtnQ0FDVnlCLE1BQU07Z0NBQ05DLFVBQVVySixXQUFXZTs7Ozs7OzBDQUV2Qiw4REFBQ3VJO2dDQUNDQyxTQUFTMUU7Z0NBQ1R3RSxVQUFVckosV0FBVyxDQUFDRixNQUFNZ0YsSUFBSSxNQUFNL0Q7Z0NBQ3RDNEcsV0FBVTswQ0FDWDs7Ozs7Ozs7Ozs7O2tDQUtILDhEQUFDRDt3QkFBSUMsV0FBVTtrQ0FBNkI7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQU1wRDtHQWhpQndCaEk7S0FBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vc3JjL2FwcC9jaGF0L3BhZ2UudHN4PzNlM2MiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCI7XG5pbXBvcnQgeyB1c2VTdGF0ZSwgdXNlUmVmLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCdcbmltcG9ydCB7IGdldEF1dGggfSBmcm9tICdAL2xpYi9hdXRoJ1xuaW1wb3J0IExpbmsgZnJvbSAnbmV4dC9saW5rJ1xuaW1wb3J0IFNlc3Npb25NYW5hZ2VyLCB7IFNlc3Npb24gfSBmcm9tICcuL2NvbXBvbmVudHMvU2Vzc2lvbk1hbmFnZXInXG5pbXBvcnQgU2Vzc2lvbkluZm8gZnJvbSAnLi9jb21wb25lbnRzL1Nlc3Npb25JbmZvJ1xuXG50eXBlIE1lc3NhZ2UgPSB7XG4gIGlkOiBudW1iZXJcbiAgcm9sZTogJ3VzZXInIHwgJ2Fzc2lzdGFudCdcbiAgY29udGVudDogc3RyaW5nXG4gIHRpbWVzdGFtcDogc3RyaW5nXG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIENoYXRQYWdlKCkge1xuICBjb25zdCBbbWVzc2FnZXMsIHNldE1lc3NhZ2VzXSA9IHVzZVN0YXRlPE1lc3NhZ2VbXT4oW10pXG4gIGNvbnN0IFtpbnB1dCwgc2V0SW5wdXRdID0gdXNlU3RhdGUoJycpXG4gIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKVxuICBjb25zdCBbc2Vzc2lvbklkLCBzZXRTZXNzaW9uSWRdID0gdXNlU3RhdGUoYHNlc3Npb25fJHtEYXRlLm5vdygpfWApXG4gIGNvbnN0IFtjdXJyZW50U2Vzc2lvblRpdGxlLCBzZXRDdXJyZW50U2Vzc2lvblRpdGxlXSA9IHVzZVN0YXRlKCdOZXcgQ2hhdCcpXG4gIGNvbnN0IFtpc0luaXRpYWxpemVkLCBzZXRJc0luaXRpYWxpemVkXSA9IHVzZVN0YXRlKGZhbHNlKVxuICBjb25zdCBtZXNzYWdlc0VuZFJlZiA9IHVzZVJlZjxIVE1MRGl2RWxlbWVudD4obnVsbClcbiAgY29uc3QgW3VzZVN0cmVhbWluZywgc2V0VXNlU3RyZWFtaW5nXSA9IHVzZVN0YXRlKHRydWUpXG4gIGNvbnN0IFtyZWZyZXNoS2V5LCBzZXRSZWZyZXNoS2V5XSA9IHVzZVN0YXRlKDApXG4gIGNvbnN0IFtpc0xvYWRpbmdIaXN0b3J5LCBzZXRJc0xvYWRpbmdIaXN0b3J5XSA9IHVzZVN0YXRlKGZhbHNlKVxuXG4gIGNvbnN0IGNyZWF0ZVNlc3Npb25JZk5lZWRlZFdpdGhvdXRIaXN0b3J5ID0gYXN5bmMgKCk6IFByb21pc2U8c3RyaW5nPiA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGFwaVVybCA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0FQSV9VUkwgfHwgJ2h0dHA6Ly9sb2NhbGhvc3Q6ODAwMSc7XG4gICAgICBjb25zdCBhdXRoID0gZ2V0QXV0aCgpXG4gICAgICBcbiAgICAgIC8vIENoZWNrIGV4aXN0aW5nIHNlc3Npb24gbGlzdFxuICAgICAgY29uc3Qgc2Vzc2lvbnNSZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke2FwaVVybH0vYXBpL3YxL2NoYXQvc2Vzc2lvbnM/dXNlcl9pZD0ke2F1dGg/LnVzZXJfaWQgfHwgMX0mYWdlbnRfdHlwZT1tZW50YWxfaGVhbHRoYCk7XG4gICAgICBpZiAoc2Vzc2lvbnNSZXNwb25zZS5vaykge1xuICAgICAgICBjb25zdCBzZXNzaW9uc0RhdGEgPSBhd2FpdCBzZXNzaW9uc1Jlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgY29uc3Qgc2Vzc2lvbnMgPSBzZXNzaW9uc0RhdGEuc2Vzc2lvbnMgfHwgKEFycmF5LmlzQXJyYXkoc2Vzc2lvbnNEYXRhKSA/IHNlc3Npb25zRGF0YSA6IFtdKTtcbiAgICAgICAgXG4gICAgICAgIGlmIChzZXNzaW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgLy8gRW5zdXJlIHNlc3Npb25zIGFyZSBzb3J0ZWQgYnkgdGltZSBpbiBkZXNjZW5kaW5nIG9yZGVyIChiYWNrZW5kIGFscmVhZHkgc29ydGVkLCBidXQgZnJvbnRlbmQgY29uZmlybXMpXG4gICAgICAgICAgY29uc3Qgc29ydGVkU2Vzc2lvbnMgPSBzZXNzaW9ucy5zb3J0KChhOiBhbnksIGI6IGFueSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgdGltZUEgPSBuZXcgRGF0ZShhLnVwZGF0ZWRfYXQgfHwgYS5jcmVhdGVkX2F0IHx8ICcnKS5nZXRUaW1lKClcbiAgICAgICAgICAgIGNvbnN0IHRpbWVCID0gbmV3IERhdGUoYi51cGRhdGVkX2F0IHx8IGIuY3JlYXRlZF9hdCB8fCAnJykuZ2V0VGltZSgpXG4gICAgICAgICAgICByZXR1cm4gdGltZUIgLSB0aW1lQSAvLyBEZXNjZW5kaW5nIG9yZGVyLCBuZXdlc3QgZmlyc3RcbiAgICAgICAgICB9KVxuICAgICAgICAgIFxuICAgICAgICAgIC8vIFVzZSB0aGUgbGF0ZXN0IHNlc3Npb24gKHNvcnRlZCBieSB0aW1lIGluIGRlc2NlbmRpbmcgb3JkZXIsIG5ld2VzdCBmaXJzdClcbiAgICAgICAgICBjb25zdCBsYXRlc3RTZXNzaW9uID0gc29ydGVkU2Vzc2lvbnNbMF07XG4gICAgICAgICAgc2V0U2Vzc2lvbklkKGxhdGVzdFNlc3Npb24uc2Vzc2lvbl9pZCk7XG4gICAgICAgICAgc2V0UmVmcmVzaEtleShrID0+IGsgKyAxKVxuICAgICAgICAgIHNldEN1cnJlbnRTZXNzaW9uVGl0bGUobGF0ZXN0U2Vzc2lvbi50aXRsZSB8fCAnTmV3IENoYXQnKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBEb24ndCB0cmlnZ2VyIGhpc3RvcnkgbG9hZGluZyB0byBhdm9pZCBvdmVyd3JpdGluZyB1c2VyIG1lc3NhZ2VzXG4gICAgICAgICAgcmV0dXJuIGxhdGVzdFNlc3Npb24uc2Vzc2lvbl9pZDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBJZiBubyBleGlzdGluZyBzZXNzaW9ucywgY3JlYXRlIGEgbmV3IG9uZVxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHthcGlVcmx9L2FwaS92MS9jaGF0L3Nlc3Npb25zP2FnZW50X3R5cGU9bWVudGFsX2hlYWx0aCZ1c2VyX2lkPSR7YXV0aD8udXNlcl9pZCB8fCAxfSZ0aXRsZT0ke2VuY29kZVVSSUNvbXBvbmVudChjdXJyZW50U2Vzc2lvblRpdGxlKX1gLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnXG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGNvbnN0IHNlc3Npb25EYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICBpZiAoc2Vzc2lvbkRhdGEuc2Vzc2lvbl9pZCkge1xuICAgICAgICAgIHNldFNlc3Npb25JZChzZXNzaW9uRGF0YS5zZXNzaW9uX2lkKTtcbiAgICAgICAgICBzZXRSZWZyZXNoS2V5KGsgPT4gayArIDEpXG4gICAgICAgICAgcmV0dXJuIHNlc3Npb25EYXRhLnNlc3Npb25faWQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGNyZWF0ZSBzZXNzaW9uOicsIGVycm9yKTtcbiAgICB9XG4gICAgLy8gSWYgZmFpbGVkLCBmYWxsYmFjayB0byBjdXJyZW50IHNlc3Npb25JZFxuICAgIHJldHVybiBzZXNzaW9uSWQ7XG4gIH07XG5cbiAgY29uc3QgY3JlYXRlU2Vzc2lvbklmTmVlZGVkID0gYXN5bmMgKCk6IFByb21pc2U8c3RyaW5nPiA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGFwaVVybCA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0FQSV9VUkwgfHwgJ2h0dHA6Ly9sb2NhbGhvc3Q6ODAwMSc7XG4gICAgICBjb25zdCBhdXRoID0gZ2V0QXV0aCgpXG4gICAgICBcbiAgICAgIC8vIENoZWNrIGV4aXN0aW5nIHNlc3Npb24gbGlzdFxuICAgICAgY29uc3Qgc2Vzc2lvbnNSZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke2FwaVVybH0vYXBpL3YxL2NoYXQvc2Vzc2lvbnM/dXNlcl9pZD0ke2F1dGg/LnVzZXJfaWQgfHwgMX0mYWdlbnRfdHlwZT1tZW50YWxfaGVhbHRoYCk7XG4gICAgICBpZiAoc2Vzc2lvbnNSZXNwb25zZS5vaykge1xuICAgICAgICBjb25zdCBzZXNzaW9uc0RhdGEgPSBhd2FpdCBzZXNzaW9uc1Jlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgY29uc3Qgc2Vzc2lvbnMgPSBzZXNzaW9uc0RhdGEuc2Vzc2lvbnMgfHwgKEFycmF5LmlzQXJyYXkoc2Vzc2lvbnNEYXRhKSA/IHNlc3Npb25zRGF0YSA6IFtdKTtcbiAgICAgICAgXG4gICAgICAgIGlmIChzZXNzaW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgLy8gRW5zdXJlIHNlc3Npb25zIGFyZSBzb3J0ZWQgYnkgdGltZSBpbiBkZXNjZW5kaW5nIG9yZGVyIChiYWNrZW5kIGFscmVhZHkgc29ydGVkLCBidXQgZnJvbnRlbmQgY29uZmlybXMpXG4gICAgICAgICAgY29uc3Qgc29ydGVkU2Vzc2lvbnMgPSBzZXNzaW9ucy5zb3J0KChhOiBhbnksIGI6IGFueSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgdGltZUEgPSBuZXcgRGF0ZShhLnVwZGF0ZWRfYXQgfHwgYS5jcmVhdGVkX2F0IHx8ICcnKS5nZXRUaW1lKClcbiAgICAgICAgICAgIGNvbnN0IHRpbWVCID0gbmV3IERhdGUoYi51cGRhdGVkX2F0IHx8IGIuY3JlYXRlZF9hdCB8fCAnJykuZ2V0VGltZSgpXG4gICAgICAgICAgICByZXR1cm4gdGltZUIgLSB0aW1lQSAvLyBEZXNjZW5kaW5nIG9yZGVyLCBuZXdlc3QgZmlyc3RcbiAgICAgICAgICB9KVxuICAgICAgICAgIFxuICAgICAgICAgIC8vIFVzZSB0aGUgbGF0ZXN0IHNlc3Npb24gKHNvcnRlZCBieSB0aW1lIGluIGRlc2NlbmRpbmcgb3JkZXIsIG5ld2VzdCBmaXJzdClcbiAgICAgICAgICBjb25zdCBsYXRlc3RTZXNzaW9uID0gc29ydGVkU2Vzc2lvbnNbMF07XG4gICAgICAgICAgc2V0U2Vzc2lvbklkKGxhdGVzdFNlc3Npb24uc2Vzc2lvbl9pZCk7XG4gICAgICAgICAgc2V0UmVmcmVzaEtleShrID0+IGsgKyAxKVxuICAgICAgICAgIHNldEN1cnJlbnRTZXNzaW9uVGl0bGUobGF0ZXN0U2Vzc2lvbi50aXRsZSB8fCAnTmV3IENoYXQnKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBBdXRvbWF0aWNhbGx5IGxvYWQgcmVjZW50IHNlc3Npb24gaGlzdG9yeVxuICAgICAgICAgIGF3YWl0IGxvYWRDaGF0SGlzdG9yeShsYXRlc3RTZXNzaW9uLnNlc3Npb25faWQpO1xuICAgICAgICAgIHJldHVybiBsYXRlc3RTZXNzaW9uLnNlc3Npb25faWQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gSWYgbm8gZXhpc3Rpbmcgc2Vzc2lvbnMsIGNyZWF0ZSBhIG5ldyBvbmVcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7YXBpVXJsfS9hcGkvdjEvY2hhdC9zZXNzaW9ucz9hZ2VudF90eXBlPW1lbnRhbF9oZWFsdGgmdXNlcl9pZD0ke2F1dGg/LnVzZXJfaWQgfHwgMX0mdGl0bGU9JHtlbmNvZGVVUklDb21wb25lbnQoY3VycmVudFNlc3Npb25UaXRsZSl9YCwge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJ1xuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGlmIChyZXNwb25zZS5vaykge1xuICAgICAgICBjb25zdCBzZXNzaW9uRGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgaWYgKHNlc3Npb25EYXRhLnNlc3Npb25faWQpIHtcbiAgICAgICAgICBzZXRTZXNzaW9uSWQoc2Vzc2lvbkRhdGEuc2Vzc2lvbl9pZCk7XG4gICAgICAgICAgc2V0UmVmcmVzaEtleShrID0+IGsgKyAxKVxuICAgICAgICAgIHJldHVybiBzZXNzaW9uRGF0YS5zZXNzaW9uX2lkO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBjcmVhdGUgc2Vzc2lvbjonLCBlcnJvcik7XG4gICAgfVxuICAgIC8vIElmIGZhaWxlZCwgZmFsbGJhY2sgdG8gY3VycmVudCBzZXNzaW9uSWRcbiAgICByZXR1cm4gc2Vzc2lvbklkO1xuICB9O1xuXG4gIC8vIExvYWQgY2hhdCBoaXN0b3J5XG4gIGNvbnN0IGxvYWRDaGF0SGlzdG9yeSA9IGFzeW5jIChzZXNzaW9uSWQ6IHN0cmluZykgPT4ge1xuICAgIHNldElzTG9hZGluZ0hpc3RvcnkodHJ1ZSlcbiAgICB0cnkge1xuICAgICAgY29uc3QgYXBpVXJsID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQVBJX1VSTCB8fCAnaHR0cDovL2xvY2FsaG9zdDo4MDAxJztcbiAgICAgIGNvbnN0IGF1dGggPSBnZXRBdXRoKClcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7YXBpVXJsfS9hcGkvdjEvY2hhdC9zZXNzaW9ucy8ke3Nlc3Npb25JZH0vbWVzc2FnZXM/dXNlcl9pZD0ke2F1dGg/LnVzZXJfaWQgfHwgMX0mYWdlbnRfdHlwZT1tZW50YWxfaGVhbHRoYCk7XG4gICAgICBcbiAgICAgIGlmIChyZXNwb25zZS5vaykge1xuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICBjb25zdCBtZXNzYWdlcyA9IGRhdGEubWVzc2FnZXMgfHwgKEFycmF5LmlzQXJyYXkoZGF0YSkgPyBkYXRhIDogW10pXG4gICAgICAgIGNvbnN0IGhpc3RvcnlNZXNzYWdlczogTWVzc2FnZVtdID0gbWVzc2FnZXMubWFwKChtc2c6IGFueSkgPT4gKHtcbiAgICAgICAgICBpZDogbXNnLmlkLFxuICAgICAgICAgIHJvbGU6IG1zZy5yb2xlIGFzICd1c2VyJyB8ICdhc3Npc3RhbnQnLFxuICAgICAgICAgIGNvbnRlbnQ6IG1zZy5jb250ZW50LFxuICAgICAgICAgIHRpbWVzdGFtcDogbXNnLmNyZWF0ZWRfYXRcbiAgICAgICAgfSkpO1xuICAgICAgICBcbiAgICAgICAgLy8gT25seSBzZXQgaGlzdG9yeSBtZXNzYWdlcyB3aGVuIHRoZXJlIGFyZSBubyBjdXJyZW50IG1lc3NhZ2VzIHRvIGF2b2lkIG92ZXJ3cml0aW5nIHVzZXIncyBuZXcgbWVzc2FnZXNcbiAgICAgICAgc2V0TWVzc2FnZXMocHJldiA9PiB7XG4gICAgICAgICAgLy8gSWYgbm8gY3VycmVudCBtZXNzYWdlcywgZGlyZWN0bHkgc2V0IGhpc3RvcnkgbWVzc2FnZXNcbiAgICAgICAgICBpZiAocHJldi5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBoaXN0b3J5TWVzc2FnZXM7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIElmIHRoZXJlIGFyZSBjdXJyZW50IG1lc3NhZ2VzLCBrZWVwIHRoZW0sIGRvbid0IG92ZXJ3cml0ZVxuICAgICAgICAgIHJldHVybiBwcmV2O1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGxvYWQgaGlzdG9yeTonLCBlcnJvcik7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldElzTG9hZGluZ0hpc3RvcnkoZmFsc2UpXG4gICAgfVxuICB9O1xuXG4gIC8vIEhhbmRsZSBzZXNzaW9uIHN3aXRjaGluZ1xuICBjb25zdCBoYW5kbGVTZXNzaW9uQ2hhbmdlID0gKG5ld1Nlc3Npb25JZDogc3RyaW5nKSA9PiB7XG4gICAgc2V0U2Vzc2lvbklkKG5ld1Nlc3Npb25JZCk7XG4gICAgc2V0TWVzc2FnZXMoW10pOyAvLyBDbGVhciBjdXJyZW50IG1lc3NhZ2VzXG4gICAgc2V0UmVmcmVzaEtleShrID0+IGsgKyAxKVxuICB9O1xuXG4gIC8vIEhhbmRsZSBzZXNzaW9uIGRlbGV0aW9uXG4gIGNvbnN0IGhhbmRsZVNlc3Npb25EZWxldGUgPSAoZGVsZXRlZFNlc3Npb25JZDogc3RyaW5nKSA9PiB7XG4gICAgaWYgKGRlbGV0ZWRTZXNzaW9uSWQgPT09IHNlc3Npb25JZCkge1xuICAgICAgLy8gSWYgdGhlIGRlbGV0ZWQgc2Vzc2lvbiBpcyB0aGUgY3VycmVudCBvbmUsIHJlc2V0IHRvIHRlbXBvcmFyeSBzZXNzaW9uSWRcbiAgICAgIGNvbnN0IG5ld1Nlc3Npb25JZCA9IGBzZXNzaW9uXyR7RGF0ZS5ub3coKX1gO1xuICAgICAgc2V0U2Vzc2lvbklkKG5ld1Nlc3Npb25JZCk7XG4gICAgICBzZXRDdXJyZW50U2Vzc2lvblRpdGxlKCdOZXcgQ2hhdCcpO1xuICAgICAgc2V0TWVzc2FnZXMoW10pO1xuICAgIH1cbiAgfTtcblxuICAvLyBIYW5kbGUgaGlzdG9yeSBsb2FkaW5nXG4gIGNvbnN0IGhhbmRsZUxvYWRIaXN0b3J5ID0gKHNlc3Npb25JZDogc3RyaW5nKSA9PiB7XG4gICAgbG9hZENoYXRIaXN0b3J5KHNlc3Npb25JZCk7XG4gIH07XG5cbiAgLy8gSW5pdGlhbGl6ZSBmdW5jdGlvbjogYXV0b21hdGljYWxseSBsb2FkIHRoZSBtb3N0IHJlY2VudCBzZXNzaW9uIHdoZW4gcGFnZSBsb2Fkc1xuICBjb25zdCBpbml0aWFsaXplU2Vzc2lvbiA9IGFzeW5jICgpID0+IHtcbiAgICBpZiAoaXNJbml0aWFsaXplZCkgcmV0dXJuO1xuICAgIFxuICAgIHRyeSB7XG4gICAgICBjb25zdCBhcGlVcmwgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19BUElfVVJMIHx8ICdodHRwOi8vbG9jYWxob3N0OjgwMDEnO1xuICAgICAgY29uc3QgYXV0aCA9IGdldEF1dGgoKVxuICAgICAgXG4gICAgICAvLyBHZXQgc2Vzc2lvbiBsaXN0XG4gICAgICBjb25zdCBzZXNzaW9uc1Jlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7YXBpVXJsfS9hcGkvdjEvY2hhdC9zZXNzaW9ucz91c2VyX2lkPSR7YXV0aD8udXNlcl9pZCB8fCAxfSZhZ2VudF90eXBlPW1lbnRhbF9oZWFsdGhgKTtcbiAgICAgIGlmIChzZXNzaW9uc1Jlc3BvbnNlLm9rKSB7XG4gICAgICAgIGNvbnN0IHNlc3Npb25zRGF0YSA9IGF3YWl0IHNlc3Npb25zUmVzcG9uc2UuanNvbigpO1xuICAgICAgICBjb25zdCBzZXNzaW9ucyA9IHNlc3Npb25zRGF0YS5zZXNzaW9ucyB8fCAoQXJyYXkuaXNBcnJheShzZXNzaW9uc0RhdGEpID8gc2Vzc2lvbnNEYXRhIDogW10pO1xuICAgICAgICBcbiAgICAgICAgY29uc29sZS5sb2coJ1JldHJpZXZlZCBzZXNzaW9uIGxpc3Q6Jywgc2Vzc2lvbnMpO1xuICAgICAgICBcbiAgICAgICAgaWYgKHNlc3Npb25zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAvLyBFbnN1cmUgc2Vzc2lvbnMgYXJlIHNvcnRlZCBieSB0aW1lIGluIGRlc2NlbmRpbmcgb3JkZXIgKGJhY2tlbmQgYWxyZWFkeSBzb3J0ZWQsIGJ1dCBmcm9udGVuZCBjb25maXJtcylcbiAgICAgICAgICBjb25zdCBzb3J0ZWRTZXNzaW9ucyA9IHNlc3Npb25zLnNvcnQoKGE6IGFueSwgYjogYW55KSA9PiB7XG4gICAgICAgICAgICBjb25zdCB0aW1lQSA9IG5ldyBEYXRlKGEudXBkYXRlZF9hdCB8fCBhLmNyZWF0ZWRfYXQgfHwgJycpLmdldFRpbWUoKVxuICAgICAgICAgICAgY29uc3QgdGltZUIgPSBuZXcgRGF0ZShiLnVwZGF0ZWRfYXQgfHwgYi5jcmVhdGVkX2F0IHx8ICcnKS5nZXRUaW1lKClcbiAgICAgICAgICAgIHJldHVybiB0aW1lQiAtIHRpbWVBIC8vIERlc2NlbmRpbmcgb3JkZXIsIG5ld2VzdCBmaXJzdFxuICAgICAgICAgIH0pXG4gICAgICAgICAgXG4gICAgICAgICAgY29uc29sZS5sb2coJ1NvcnRlZCBzZXNzaW9uIGxpc3Q6Jywgc29ydGVkU2Vzc2lvbnMpO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIFVzZSB0aGUgbGF0ZXN0IHNlc3Npb24gKHNvcnRlZCBieSB0aW1lIGluIGRlc2NlbmRpbmcgb3JkZXIsIG5ld2VzdCBmaXJzdClcbiAgICAgICAgICBjb25zdCBsYXRlc3RTZXNzaW9uID0gc29ydGVkU2Vzc2lvbnNbMF07XG4gICAgICAgICAgY29uc29sZS5sb2coJ1NlbGVjdGVkIGxhdGVzdCBzZXNzaW9uOicsIGxhdGVzdFNlc3Npb24pO1xuICAgICAgICAgIFxuICAgICAgICAgIHNldFNlc3Npb25JZChsYXRlc3RTZXNzaW9uLnNlc3Npb25faWQpO1xuICAgICAgICAgIHNldFJlZnJlc2hLZXkoayA9PiBrICsgMSlcbiAgICAgICAgICBzZXRDdXJyZW50U2Vzc2lvblRpdGxlKGxhdGVzdFNlc3Npb24udGl0bGUgfHwgJ05ldyBDaGF0Jyk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gQXV0b21hdGljYWxseSBsb2FkIHJlY2VudCBzZXNzaW9uIGhpc3RvcnlcbiAgICAgICAgICBhd2FpdCBsb2FkQ2hhdEhpc3RvcnkobGF0ZXN0U2Vzc2lvbi5zZXNzaW9uX2lkKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgXG4gICAgICBzZXRJc0luaXRpYWxpemVkKHRydWUpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gaW5pdGlhbGl6ZSBzZXNzaW9uOicsIGVycm9yKTtcbiAgICAgIHNldElzSW5pdGlhbGl6ZWQodHJ1ZSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IHNjcm9sbFRvQm90dG9tID0gKCkgPT4ge1xuICAgIG1lc3NhZ2VzRW5kUmVmLmN1cnJlbnQ/LnNjcm9sbEludG9WaWV3KHsgYmVoYXZpb3I6IFwic21vb3RoXCIgfSlcbiAgfVxuXG4gIC8vIEluaXRpYWxpemUgc2Vzc2lvbiB3aGVuIHBhZ2UgbG9hZHNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpbml0aWFsaXplU2Vzc2lvbigpO1xuICB9LCBbXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBzY3JvbGxUb0JvdHRvbSgpXG4gIH0sIFttZXNzYWdlc10pXG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBhdXRoID0gZ2V0QXV0aCgpXG4gICAgaWYgKCFhdXRoKSB7XG4gICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICcvYXV0aCdcbiAgICAgIHJldHVyblxuICAgIH1cbiAgfSwgW10pXG5cbiAgY29uc3Qgc2VuZE1lc3NhZ2UgPSBhc3luYyAoKSA9PiB7XG4gICAgaWYgKCFpbnB1dC50cmltKCkgfHwgbG9hZGluZykgcmV0dXJuXG5cbiAgICBjb25zdCB1c2VyTWVzc2FnZTogTWVzc2FnZSA9IHtcbiAgICAgIGlkOiBEYXRlLm5vdygpICsgTWF0aC5yYW5kb20oKSwgLy8gVXNlIG1vcmUgdW5pcXVlIElEXG4gICAgICByb2xlOiAndXNlcicsXG4gICAgICBjb250ZW50OiBpbnB1dCxcbiAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgfVxuXG4gICAgLy8gSW1tZWRpYXRlbHkgYWRkIHVzZXIgbWVzc2FnZSB0byBzdGF0ZVxuICAgIHNldE1lc3NhZ2VzKHByZXYgPT4gWy4uLnByZXYsIHVzZXJNZXNzYWdlXSlcbiAgICBzZXRJbnB1dCgnJylcbiAgICBzZXRMb2FkaW5nKHRydWUpXG5cbiAgICAvLyBFbnN1cmUgdXNlciBtZXNzYWdlIGhhcyBiZWVuIGFkZGVkIHRvIHN0YXRlIGJlZm9yZSBzZW5kaW5nXG4gICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDApKVxuXG4gICAgaWYgKHVzZVN0cmVhbWluZykge1xuICAgICAgYXdhaXQgc2VuZFN0cmVhbWluZ01lc3NhZ2UodXNlck1lc3NhZ2UuY29udGVudClcbiAgICB9IGVsc2Uge1xuICAgICAgYXdhaXQgc2VuZE5vblN0cmVhbWluZ01lc3NhZ2UodXNlck1lc3NhZ2UuY29udGVudClcbiAgICB9XG4gIH1cblxuICBjb25zdCBzZW5kU3RyZWFtaW5nTWVzc2FnZSA9IGFzeW5jIChjb250ZW50OiBzdHJpbmcpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgYXBpVXJsID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQVBJX1VSTCB8fCAnaHR0cDovL2xvY2FsaG9zdDo4MDAxJztcbiAgICAgIFxuICAgICAgLy8gRmlyc3QgY3JlYXRlIG9yIGdldCB2YWxpZCBzZXNzaW9uIElELCBidXQgZG9uJ3QgdHJpZ2dlciBoaXN0b3J5IGxvYWRpbmdcbiAgICAgIGNvbnN0IHNpZCA9IGF3YWl0IGNyZWF0ZVNlc3Npb25JZk5lZWRlZFdpdGhvdXRIaXN0b3J5KCk7XG4gICAgICBcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7YXBpVXJsfS9hcGkvdjEvY2hhdC9zdHJlYW1gLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgIHNlc3Npb25faWQ6IHNpZCxcbiAgICAgICAgICBtZXNzYWdlOiBjb250ZW50LFxuICAgICAgICAgIGFnZW50X3R5cGU6IFwibWVudGFsX2hlYWx0aFwiXG4gICAgICAgIH0pXG4gICAgICB9KVxuXG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTmV0d29yayByZXNwb25zZSB3YXMgbm90IG9rJylcbiAgICAgIH1cblxuICAgICAgY29uc3QgcmVhZGVyID0gcmVzcG9uc2UuYm9keT8uZ2V0UmVhZGVyKClcbiAgICAgIGlmICghcmVhZGVyKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTm8gcmVhZGVyIGF2YWlsYWJsZScpXG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGRlY29kZXIgPSBuZXcgVGV4dERlY29kZXIoKVxuICAgICAgY29uc3QgYXNzaXN0YW50TWVzc2FnZUlkID0gRGF0ZS5ub3coKSArIE1hdGgucmFuZG9tKCkgKyAxXG4gICAgICBjb25zdCBhc3Npc3RhbnRNZXNzYWdlOiBNZXNzYWdlID0ge1xuICAgICAgICBpZDogYXNzaXN0YW50TWVzc2FnZUlkLFxuICAgICAgICByb2xlOiAnYXNzaXN0YW50JyxcbiAgICAgICAgY29udGVudDogJycsXG4gICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgICB9XG5cbiAgICAgIHNldE1lc3NhZ2VzKHByZXYgPT4gWy4uLnByZXYsIGFzc2lzdGFudE1lc3NhZ2VdKVxuXG4gICAgICB0cnkge1xuICAgICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgIGNvbnN0IHsgZG9uZSwgdmFsdWUgfSA9IGF3YWl0IHJlYWRlci5yZWFkKClcbiAgICAgICAgICBpZiAoZG9uZSkgYnJlYWtcblxuICAgICAgICAgIGNvbnN0IGNodW5rID0gZGVjb2Rlci5kZWNvZGUodmFsdWUpXG4gICAgICAgICAgY29uc3QgbGluZXMgPSBjaHVuay5zcGxpdCgnXFxuJylcblxuICAgICAgICAgIGZvciAoY29uc3QgbGluZSBvZiBsaW5lcykge1xuICAgICAgICAgICAgaWYgKGxpbmUuc3RhcnRzV2l0aCgnZGF0YTogJykpIHtcbiAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0gSlNPTi5wYXJzZShsaW5lLnNsaWNlKDYpKVxuICAgICAgICAgICAgICAgIGlmIChkYXRhLnR5cGUgPT09ICdjb250ZW50Jykge1xuICAgICAgICAgICAgICAgICAgc2V0TWVzc2FnZXMocHJldiA9PiBcbiAgICAgICAgICAgICAgICAgICAgcHJldi5tYXAobXNnID0+IFxuICAgICAgICAgICAgICAgICAgICAgIG1zZy5pZCA9PT0gYXNzaXN0YW50TWVzc2FnZUlkXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHsgLi4ubXNnLCBjb250ZW50OiBkYXRhLmNvbnRlbnQgfVxuICAgICAgICAgICAgICAgICAgICAgICAgOiBtc2dcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZGF0YS50eXBlID09PSAnZG9uZScpIHtcbiAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgLy8gSWdub3JlIHBhcnNpbmcgZXJyb3JzIGZvciBpbmNvbXBsZXRlIEpTT05cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgcmVhZGVyLnJlbGVhc2VMb2NrKClcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignU3RyZWFtaW5nIGVycm9yOicsIGVycm9yKVxuICAgICAgY29uc3QgZXJyb3JNZXNzYWdlOiBNZXNzYWdlID0ge1xuICAgICAgICBpZDogRGF0ZS5ub3coKSArIE1hdGgucmFuZG9tKCkgKyAxLFxuICAgICAgICByb2xlOiAnYXNzaXN0YW50JyxcbiAgICAgICAgY29udGVudDogJ1NvcnJ5LCB0aGVyZSB3YXMgYW4gZXJyb3IgcHJvY2Vzc2luZyB5b3VyIG1lc3NhZ2UuIFBsZWFzZSB0cnkgYWdhaW4uJyxcbiAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICAgIH1cbiAgICAgIHNldE1lc3NhZ2VzKHByZXYgPT4gWy4uLnByZXYsIGVycm9yTWVzc2FnZV0pXG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldExvYWRpbmcoZmFsc2UpXG4gICAgfVxuICB9XG5cbiAgY29uc3Qgc2VuZE5vblN0cmVhbWluZ01lc3NhZ2UgPSBhc3luYyAoY29udGVudDogc3RyaW5nKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGFwaVVybCA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0FQSV9VUkwgfHwgJ2h0dHA6Ly9sb2NhbGhvc3Q6ODAwMSc7XG4gICAgICBcbiAgICAgIC8vIEZpcnN0IGNyZWF0ZSBvciBnZXQgdmFsaWQgc2Vzc2lvbiBJRCwgYnV0IGRvbid0IHRyaWdnZXIgaGlzdG9yeSBsb2FkaW5nXG4gICAgICBjb25zdCBzaWQgPSBhd2FpdCBjcmVhdGVTZXNzaW9uSWZOZWVkZWRXaXRob3V0SGlzdG9yeSgpO1xuICAgICAgXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke2FwaVVybH0vYXBpL3YxL2NoYXQvbWVzc2FnZXNgLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgIHNlc3Npb25faWQ6IHNpZCxcbiAgICAgICAgICBtZXNzYWdlOiBjb250ZW50LFxuICAgICAgICAgIGFnZW50X3R5cGU6IFwibWVudGFsX2hlYWx0aFwiXG4gICAgICAgIH0pXG4gICAgICB9KVxuXG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTmV0d29yayByZXNwb25zZSB3YXMgbm90IG9rJylcbiAgICAgIH1cblxuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKVxuICAgICAgXG4gICAgICBjb25zdCBhc3Npc3RhbnRNZXNzYWdlOiBNZXNzYWdlID0ge1xuICAgICAgICBpZDogRGF0ZS5ub3coKSArIE1hdGgucmFuZG9tKCkgKyAxLFxuICAgICAgICByb2xlOiAnYXNzaXN0YW50JyxcbiAgICAgICAgY29udGVudDogZGF0YS5haV9tZXNzYWdlLmNvbnRlbnQsXG4gICAgICAgIHRpbWVzdGFtcDogZGF0YS5haV9tZXNzYWdlLmNyZWF0ZWRfYXRcbiAgICAgIH1cblxuICAgICAgc2V0TWVzc2FnZXMocHJldiA9PiBbLi4ucHJldiwgYXNzaXN0YW50TWVzc2FnZV0pXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ05vbi1zdHJlYW1pbmcgZXJyb3I6JywgZXJyb3IpXG4gICAgICBjb25zdCBlcnJvck1lc3NhZ2U6IE1lc3NhZ2UgPSB7XG4gICAgICAgIGlkOiBEYXRlLm5vdygpICsgTWF0aC5yYW5kb20oKSArIDEsXG4gICAgICAgIHJvbGU6ICdhc3Npc3RhbnQnLFxuICAgICAgICBjb250ZW50OiAnU29ycnksIHRoZXJlIHdhcyBhbiBlcnJvciBwcm9jZXNzaW5nIHlvdXIgbWVzc2FnZS4gUGxlYXNlIHRyeSBhZ2Fpbi4nLFxuICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxuICAgICAgfVxuICAgICAgc2V0TWVzc2FnZXMocHJldiA9PiBbLi4ucHJldiwgZXJyb3JNZXNzYWdlXSlcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0TG9hZGluZyhmYWxzZSlcbiAgICB9XG4gIH1cblxuICBjb25zdCBoYW5kbGVLZXlQcmVzcyA9IChlOiBSZWFjdC5LZXlib2FyZEV2ZW50KSA9PiB7XG4gICAgaWYgKGUua2V5ID09PSAnRW50ZXInICYmICFlLnNoaWZ0S2V5KSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICAgIHNlbmRNZXNzYWdlKClcbiAgICB9XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBoLXNjcmVlbiBiZy1ibGFja1wiPlxuICAgICAgey8qIEhlYWRlciAqL31cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIHAtNCBib3JkZXItYiBib3JkZXItd2hpdGUvMTBcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtNFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC14bCBmb250LXNlbWlib2xkXCI+TWVudGFsIEhlYWx0aCBDaGF0Qm90PC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtd2hpdGUvNjBcIj58PC9kaXY+XG4gICAgICAgICAgPFNlc3Npb25JbmZvXG4gICAgICAgICAgICBzZXNzaW9uSWQ9e3Nlc3Npb25JZH1cbiAgICAgICAgICAgIG9uVGl0bGVDaGFuZ2U9e3NldEN1cnJlbnRTZXNzaW9uVGl0bGV9XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTRcIj5cbiAgICAgICAgICA8TGluayBocmVmPVwiL1wiIGNsYXNzTmFtZT1cInB4LTMgcHktMiBiZy13aGl0ZS9bMC4wNV0gYm9yZGVyIGJvcmRlci13aGl0ZS8xMCByb3VuZGVkIGhvdmVyOmJnLXdoaXRlL1swLjA4XSB0ZXh0LXNtXCI+XG4gICAgICAgICAgICBIb21lXG4gICAgICAgICAgPC9MaW5rPlxuICAgICAgICAgIDxTZXNzaW9uTWFuYWdlclxuICAgICAgICAgICAgY3VycmVudFNlc3Npb25JZD17c2Vzc2lvbklkfVxuICAgICAgICAgICAgb25TZXNzaW9uQ2hhbmdlPXtoYW5kbGVTZXNzaW9uQ2hhbmdlfVxuICAgICAgICAgICAgb25TZXNzaW9uRGVsZXRlPXtoYW5kbGVTZXNzaW9uRGVsZXRlfVxuICAgICAgICAgICAgb25Mb2FkSGlzdG9yeT17aGFuZGxlTG9hZEhpc3Rvcnl9XG4gICAgICAgICAgICByZWZyZXNoS2V5PXtyZWZyZXNoS2V5fVxuICAgICAgICAgIC8+XG4gICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHRleHQtc21cIj5cbiAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICB0eXBlPVwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICBjaGVja2VkPXt1c2VTdHJlYW1pbmd9XG4gICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0VXNlU3RyZWFtaW5nKGUudGFyZ2V0LmNoZWNrZWQpfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkXCJcbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgICBTdHJlYW1pbmdcbiAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuXG4gICAgICB7LyogTWVzc2FnZXMgKi99XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMSBvdmVyZmxvdy15LWF1dG8gcC00IHNwYWNlLXktNFwiPlxuICAgICAgICB7aXNMb2FkaW5nSGlzdG9yeSAmJiBtZXNzYWdlcy5sZW5ndGggPT09IDAgJiYgKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXIgdGV4dC13aGl0ZS81MCBweS04XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFuaW1hdGUtc3BpbiByb3VuZGVkLWZ1bGwgaC04IHctOCBib3JkZXItYi0yIGJvcmRlci1wcmltYXJ5LTUwMCBteC1hdXRvIG1iLTJcIj48L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1zbVwiPkxvYWRpbmcgY2hhdCBoaXN0b3J5Li4uPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG4gICAgICAgIFxuICAgICAgICB7bWVzc2FnZXMubGVuZ3RoID09PSAwICYmICFpc0xvYWRpbmdIaXN0b3J5ICYmIChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyIHRleHQtd2hpdGUvNTAgcHktOFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtbWVkaXVtIG1iLTJcIj5XZWxjb21lIHRvIE1lbnRhbCBIZWFsdGggQ2hhdEJvdDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXNtXCI+XG4gICAgICAgICAgICAgIEknbSBoZXJlIHRvIGhlbHAgeW91IHdpdGggc2VsZi1jYXJlIHN0cmF0ZWdpZXMgYW5kIGVtb3Rpb25hbCB3ZWxsLWJlaW5nLlxuICAgICAgICAgICAgICA8YnIgLz5cbiAgICAgICAgICAgICAgU2hhcmUgaG93IHlvdSdyZSBmZWVsaW5nIG9yIGFzayBmb3Igc3VwcG9ydC5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuICAgICAgICBcbiAgICAgICAge21lc3NhZ2VzLm1hcCgobWVzc2FnZSkgPT4gKFxuICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgIGtleT17bWVzc2FnZS5pZH1cbiAgICAgICAgICAgIGNsYXNzTmFtZT17YGZsZXggaXRlbXMtZW5kIGdhcC0zICR7bWVzc2FnZS5yb2xlID09PSAndXNlcicgPyAnanVzdGlmeS1lbmQnIDogJ2p1c3RpZnktc3RhcnQnfSBhbmltYXRlLWZhZGUtaW5gfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIHttZXNzYWdlLnJvbGUgPT09ICdhc3Npc3RhbnQnICYmIChcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LXNocmluay0wIHctOCBoLTggcm91bmRlZC1mdWxsIGJnLWdyYWRpZW50LXRvLWJyIGZyb20tYmx1ZS00MDAgdG8tcHVycGxlLTUwMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBzaGFkb3ctbGcgdHJhbnNpdGlvbi10cmFuc2Zvcm0gZHVyYXRpb24tMjAwIGhvdmVyOnNjYWxlLTExMFwiPlxuICAgICAgICAgICAgICAgIDxzdmcgY2xhc3NOYW1lPVwidy01IGgtNSB0ZXh0LXdoaXRlXCIgZmlsbD1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgMjAgMjBcIj5cbiAgICAgICAgICAgICAgICAgIDxwYXRoIGZpbGxSdWxlPVwiZXZlbm9kZFwiIGQ9XCJNMTggMTBhOCA4IDAgMTEtMTYgMCA4IDggMCAwMTE2IDB6bS0yIDBjMCAuOTkzLS4yNDEgMS45MjktLjY2OCAyLjc1NGwtMS41MjQtMS41MjVhMy45OTcgMy45OTcgMCAwMC4wNzgtMi4xODNsMS41NjItMS41NjJDMTUuODAyIDguMjQ5IDE2IDkuMSAxNiAxMHptLTUuMTY1IDMuOTEzbDEuNTggMS41OEE1Ljk4IDUuOTggMCAwMTEwIDE2YTUuOTc2IDUuOTc2IDAgMDEtMi41MTYtLjU1MmwxLjU2Mi0xLjU2MmE0LjAwNiA0LjAwNiAwIDAwMS43ODkuMDI3em0tNC42NzctMi43OTZhNC4wMDIgNC4wMDIgMCAwMS0uMDQxLTIuMDhsLS4wOC0uMDgtMS41My0xLjUzQzMuMzM4IDYuMzYgMyA3LjE0IDMgOGE1IDUgMCAwMDUgNWMuODYgMCAxLjY0LS4zMzggMi4yMi0uODg3bDEuNTMgMS41M2E0LjAwMiA0LjAwMiAwIDAwMi4wOC4wNDFsLjA4LjA4LTEuNTYyIDEuNTYyYTMuOTk3IDMuOTk3IDAgMDEtMS43ODktLjAyN3pcIiBjbGlwUnVsZT1cImV2ZW5vZGRcIiAvPlxuICAgICAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgbWF4LXctWzcwJV0gcC00IHJvdW5kZWQtMnhsIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTIwMCBob3ZlcjpzY2FsZS1bMS4wMl0gJHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlLnJvbGUgPT09ICd1c2VyJ1xuICAgICAgICAgICAgICAgICAgPyAnYmctZ3JhZGllbnQtdG8tciBmcm9tLXByaW1hcnktNTAwIHRvLXByaW1hcnktNjAwIHRleHQtYmxhY2sgc2hhZG93LWxnIGhvdmVyOnNoYWRvdy1nbG93J1xuICAgICAgICAgICAgICAgICAgOiAnYmctd2hpdGUvWzAuMDhdIGJvcmRlciBib3JkZXItd2hpdGUvMjAgc2hhZG93LWxnIGJhY2tkcm9wLWJsdXItc20gaG92ZXI6Ymctd2hpdGUvWzAuMTJdJ1xuICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3aGl0ZXNwYWNlLXByZS13cmFwIGxlYWRpbmctcmVsYXhlZFwiPlxuICAgICAgICAgICAgICAgIHttZXNzYWdlLmNvbnRlbnR9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YHRleHQteHMgbXQtMiAke1xuICAgICAgICAgICAgICAgIG1lc3NhZ2Uucm9sZSA9PT0gJ3VzZXInID8gJ3RleHQtYmxhY2svNjAnIDogJ3RleHQtd2hpdGUvNDAnXG4gICAgICAgICAgICAgIH1gfT5cbiAgICAgICAgICAgICAgICB7bmV3IERhdGUobWVzc2FnZS50aW1lc3RhbXApLnRvTG9jYWxlVGltZVN0cmluZygpfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgXG4gICAgICAgICAgICB7bWVzc2FnZS5yb2xlID09PSAndXNlcicgJiYgKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtc2hyaW5rLTAgdy04IGgtOCByb3VuZGVkLWZ1bGwgYmctZ3JhZGllbnQtdG8tYnIgZnJvbS1ncmVlbi00MDAgdG8tYmx1ZS01MDAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgc2hhZG93LWxnIHRyYW5zaXRpb24tdHJhbnNmb3JtIGR1cmF0aW9uLTIwMCBob3ZlcjpzY2FsZS0xMTBcIj5cbiAgICAgICAgICAgICAgICA8c3ZnIGNsYXNzTmFtZT1cInctNSBoLTUgdGV4dC13aGl0ZVwiIGZpbGw9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDIwIDIwXCI+XG4gICAgICAgICAgICAgICAgICA8cGF0aCBmaWxsUnVsZT1cImV2ZW5vZGRcIiBkPVwiTTEwIDlhMyAzIDAgMTAwLTYgMyAzIDAgMDAwIDZ6bS03IDlhNyA3IDAgMTExNCAwSDN6XCIgY2xpcFJ1bGU9XCJldmVub2RkXCIgLz5cbiAgICAgICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApKX1cbiAgICAgICAgXG4gICAgICAgIHtsb2FkaW5nICYmIChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtZW5kIGdhcC0zIGp1c3RpZnktc3RhcnRcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC1zaHJpbmstMCB3LTggaC04IHJvdW5kZWQtZnVsbCBiZy1ncmFkaWVudC10by1iciBmcm9tLWJsdWUtNDAwIHRvLXB1cnBsZS01MDAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgPHN2ZyBjbGFzc05hbWU9XCJ3LTUgaC01IHRleHQtd2hpdGVcIiBmaWxsPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyMCAyMFwiPlxuICAgICAgICAgICAgICAgIDxwYXRoIGZpbGxSdWxlPVwiZXZlbm9kZFwiIGQ9XCJNMTggMTBhOCA4IDAgMTEtMTYgMCA4IDggMCAwMTE2IDB6bS0yIDBjMCAuOTkzLS4yNDEgMS45MjktLjY2OCAyLjc1NGwtMS41MjQtMS41MjVhMy45OTcgMy45OTcgMCAwMC4wNzgtMi4xODNsMS41NjItMS41NjJDMTUuODAyIDguMjQ5IDE2IDkuMSAxNiAxMHptLTUuMTY1IDMuOTEzbDEuNTggMS41OEE1Ljk4IDUuOTggMCAwMTEwIDE2YTUuOTc2IDUuOTc2IDAgMDEtMi41MTYtLjU1MmwxLjU2Mi0xLjU2MmE0LjAwNiA0LjAwNiAwIDAwMS43ODkuMDI3em0tNC42NzctMi43OTZhNC4wMDIgNC4wMDIgMCAwMS0uMDQxLTIuMDhsLS4wOC0uMDgtMS41My0xLjUzQzMuMzM4IDYuMzYgMyA3LjE0IDMgOGE1IDUgMCAwMDUgNWMuODYgMCAxLjY0LS4zMzggMi4yMi0uODg3bDEuNTMgMS41M2E0LjAwMiA0LjAwMiAwIDAwMi4wOC4wNDFsLjA4LjA4LTEuNTYyIDEuNTYyYTMuOTk3IDMuOTk3IDAgMDEtMS43ODktLjAyN3pcIiBjbGlwUnVsZT1cImV2ZW5vZGRcIiAvPlxuICAgICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy13aGl0ZS9bMC4wOF0gYm9yZGVyIGJvcmRlci13aGl0ZS8yMCBwLTQgcm91bmRlZC0yeGwgc2hhZG93LWxnIGJhY2tkcm9wLWJsdXItc21cIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0yIGgtMiBiZy1ibHVlLTQwMCByb3VuZGVkLWZ1bGwgYW5pbWF0ZS1ib3VuY2VcIj48L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMiBoLTIgYmctYmx1ZS00MDAgcm91bmRlZC1mdWxsIGFuaW1hdGUtYm91bmNlXCIgc3R5bGU9e3thbmltYXRpb25EZWxheTogJzAuMXMnfX0+PC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTIgaC0yIGJnLWJsdWUtNDAwIHJvdW5kZWQtZnVsbCBhbmltYXRlLWJvdW5jZVwiIHN0eWxlPXt7YW5pbWF0aW9uRGVsYXk6ICcwLjJzJ319PjwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuICAgICAgICBcbiAgICAgICAgPGRpdiByZWY9e21lc3NhZ2VzRW5kUmVmfSAvPlxuICAgICAgPC9kaXY+XG5cbiAgICAgIHsvKiBJbnB1dCAqL31cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicC00IGJvcmRlci10IGJvcmRlci13aGl0ZS8xMFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZ2FwLTIgaXRlbXMtZW5kXCI+XG4gICAgICAgICAgPHRleHRhcmVhXG4gICAgICAgICAgICB2YWx1ZT17aW5wdXR9XG4gICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldElucHV0KGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgIG9uS2V5UHJlc3M9e2hhbmRsZUtleVByZXNzfVxuICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJTaGFyZSBob3cgeW91J3JlIGZlZWxpbmcgb3IgYXNrIGZvciBzZWxmLWNhcmUgdGlwcy4uLlwiXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4LTEgcC00IGJnLXdoaXRlL1swLjA0XSBib3JkZXIgYm9yZGVyLXdoaXRlLzEwIHJvdW5kZWQtbGcgcmVzaXplLW5vbmUgb3V0bGluZS1ub25lIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLXByaW1hcnktNTAwIHRleHQtYmFzZSBtaW4taC1bNjRweF0gbWF4LWgtWzIwMHB4XVwiXG4gICAgICAgICAgICByb3dzPXszfVxuICAgICAgICAgICAgZGlzYWJsZWQ9e2xvYWRpbmcgfHwgaXNMb2FkaW5nSGlzdG9yeX1cbiAgICAgICAgICAvPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIG9uQ2xpY2s9e3NlbmRNZXNzYWdlfVxuICAgICAgICAgICAgZGlzYWJsZWQ9e2xvYWRpbmcgfHwgIWlucHV0LnRyaW0oKSB8fCBpc0xvYWRpbmdIaXN0b3J5fVxuICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtNiBweS0zIGJnLXByaW1hcnktNTAwIHRleHQtYmxhY2sgZm9udC1tZWRpdW0gcm91bmRlZC1sZyBkaXNhYmxlZDpvcGFjaXR5LTUwIGRpc2FibGVkOmN1cnNvci1ub3QtYWxsb3dlZCBob3ZlcjpiZy1wcmltYXJ5LTQwMCB0cmFuc2l0aW9uIGgtWzUycHhdXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICBTZW5kXG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICBcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtd2hpdGUvNTAgbXQtMlwiPlxuICAgICAgICAgIFByZXNzIEVudGVyIHRvIHNlbmQsIFNoaWZ0K0VudGVyIGZvciBuZXcgbGluZVxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApXG59XG4iXSwibmFtZXMiOlsidXNlU3RhdGUiLCJ1c2VSZWYiLCJ1c2VFZmZlY3QiLCJnZXRBdXRoIiwiTGluayIsIlNlc3Npb25NYW5hZ2VyIiwiU2Vzc2lvbkluZm8iLCJDaGF0UGFnZSIsIm1lc3NhZ2VzIiwic2V0TWVzc2FnZXMiLCJpbnB1dCIsInNldElucHV0IiwibG9hZGluZyIsInNldExvYWRpbmciLCJzZXNzaW9uSWQiLCJzZXRTZXNzaW9uSWQiLCJEYXRlIiwibm93IiwiY3VycmVudFNlc3Npb25UaXRsZSIsInNldEN1cnJlbnRTZXNzaW9uVGl0bGUiLCJpc0luaXRpYWxpemVkIiwic2V0SXNJbml0aWFsaXplZCIsIm1lc3NhZ2VzRW5kUmVmIiwidXNlU3RyZWFtaW5nIiwic2V0VXNlU3RyZWFtaW5nIiwicmVmcmVzaEtleSIsInNldFJlZnJlc2hLZXkiLCJpc0xvYWRpbmdIaXN0b3J5Iiwic2V0SXNMb2FkaW5nSGlzdG9yeSIsImNyZWF0ZVNlc3Npb25JZk5lZWRlZFdpdGhvdXRIaXN0b3J5IiwiYXBpVXJsIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX0FQSV9VUkwiLCJhdXRoIiwic2Vzc2lvbnNSZXNwb25zZSIsImZldGNoIiwidXNlcl9pZCIsIm9rIiwic2Vzc2lvbnNEYXRhIiwianNvbiIsInNlc3Npb25zIiwiQXJyYXkiLCJpc0FycmF5IiwibGVuZ3RoIiwic29ydGVkU2Vzc2lvbnMiLCJzb3J0IiwiYSIsImIiLCJ0aW1lQSIsInVwZGF0ZWRfYXQiLCJjcmVhdGVkX2F0IiwiZ2V0VGltZSIsInRpbWVCIiwibGF0ZXN0U2Vzc2lvbiIsInNlc3Npb25faWQiLCJrIiwidGl0bGUiLCJyZXNwb25zZSIsImVuY29kZVVSSUNvbXBvbmVudCIsIm1ldGhvZCIsInNlc3Npb25EYXRhIiwiZXJyb3IiLCJjb25zb2xlIiwiY3JlYXRlU2Vzc2lvbklmTmVlZGVkIiwibG9hZENoYXRIaXN0b3J5IiwiZGF0YSIsImhpc3RvcnlNZXNzYWdlcyIsIm1hcCIsIm1zZyIsImlkIiwicm9sZSIsImNvbnRlbnQiLCJ0aW1lc3RhbXAiLCJwcmV2IiwiaGFuZGxlU2Vzc2lvbkNoYW5nZSIsIm5ld1Nlc3Npb25JZCIsImhhbmRsZVNlc3Npb25EZWxldGUiLCJkZWxldGVkU2Vzc2lvbklkIiwiaGFuZGxlTG9hZEhpc3RvcnkiLCJpbml0aWFsaXplU2Vzc2lvbiIsImxvZyIsInNjcm9sbFRvQm90dG9tIiwiY3VycmVudCIsInNjcm9sbEludG9WaWV3IiwiYmVoYXZpb3IiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsImhyZWYiLCJzZW5kTWVzc2FnZSIsInRyaW0iLCJ1c2VyTWVzc2FnZSIsIk1hdGgiLCJyYW5kb20iLCJ0b0lTT1N0cmluZyIsIlByb21pc2UiLCJyZXNvbHZlIiwic2V0VGltZW91dCIsInNlbmRTdHJlYW1pbmdNZXNzYWdlIiwic2VuZE5vblN0cmVhbWluZ01lc3NhZ2UiLCJzaWQiLCJoZWFkZXJzIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJtZXNzYWdlIiwiYWdlbnRfdHlwZSIsIkVycm9yIiwicmVhZGVyIiwiZ2V0UmVhZGVyIiwiZGVjb2RlciIsIlRleHREZWNvZGVyIiwiYXNzaXN0YW50TWVzc2FnZUlkIiwiYXNzaXN0YW50TWVzc2FnZSIsImRvbmUiLCJ2YWx1ZSIsInJlYWQiLCJjaHVuayIsImRlY29kZSIsImxpbmVzIiwic3BsaXQiLCJsaW5lIiwic3RhcnRzV2l0aCIsInBhcnNlIiwic2xpY2UiLCJ0eXBlIiwiZSIsInJlbGVhc2VMb2NrIiwiZXJyb3JNZXNzYWdlIiwiYWlfbWVzc2FnZSIsImhhbmRsZUtleVByZXNzIiwia2V5Iiwic2hpZnRLZXkiLCJwcmV2ZW50RGVmYXVsdCIsImRpdiIsImNsYXNzTmFtZSIsIm9uVGl0bGVDaGFuZ2UiLCJjdXJyZW50U2Vzc2lvbklkIiwib25TZXNzaW9uQ2hhbmdlIiwib25TZXNzaW9uRGVsZXRlIiwib25Mb2FkSGlzdG9yeSIsImxhYmVsIiwiY2hlY2tlZCIsIm9uQ2hhbmdlIiwidGFyZ2V0IiwiYnIiLCJzdmciLCJmaWxsIiwidmlld0JveCIsInBhdGgiLCJmaWxsUnVsZSIsImQiLCJjbGlwUnVsZSIsInRvTG9jYWxlVGltZVN0cmluZyIsInN0eWxlIiwiYW5pbWF0aW9uRGVsYXkiLCJyZWYiLCJ0ZXh0YXJlYSIsIm9uS2V5UHJlc3MiLCJwbGFjZWhvbGRlciIsInJvd3MiLCJkaXNhYmxlZCIsImJ1dHRvbiIsIm9uQ2xpY2siXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/app/chat/page.tsx\n"));

/***/ })

});