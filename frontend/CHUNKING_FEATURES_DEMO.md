# RAG分塊策略前端功能演示

## 新增功能概述

前端RAG管理系統已成功更新，新增了多種分塊策略選擇功能，為用戶提供更智能的文檔處理體驗。

## 🎯 主要功能

### 1. 分塊策略選擇
- **固定長度分塊** 📏：按固定字符數或詞數分割文本
- **語義分塊** 🧠：按段落、句子邊界分割，保持語義完整性（推薦）
- **會話分塊** 💬：按對話、會議記錄等會話結構分割
- **層次分塊** 📚：按標題、章節等層次結構分割（推薦）
- **自適應分塊** 🤖：根據文本特徵自動選擇最佳分塊策略（推薦）

### 2. 高級設置
- **分塊大小**：可調整分塊的字符數或詞數
- **重疊大小**：設置分塊間的重疊部分
- **分塊模式**：支持字符、詞、句子、段落模式
- **自定義關鍵詞**：添加特定領域的關鍵詞

### 3. 分塊策略測試
- **實時預覽**：輸入測試文本預覽分塊效果
- **策略比較**：比較不同策略的分塊結果
- **統計信息**：顯示分塊數量、平均長度等統計

### 4. 文檔管理增強
- **策略標識**：文檔列表顯示使用的分塊策略
- **分塊統計**：顯示每個文檔的分塊數量
- **詳細預覽**：分塊預覽包含策略和類型信息

## 🚀 使用指南

### 步驟1：選擇分塊策略
1. 在"分塊策略"區域選擇適合的策略
2. 推薦策略會標註"推薦"標籤
3. 根據文檔類型選擇：
   - 心理健康文檔 → 語義分塊
   - 會議記錄 → 會話分塊
   - 技術手冊 → 層次分塊
   - 混合文檔 → 自適應分塊

### 步驟2：調整高級設置
1. 點擊"高級設置"展開選項
2. 調整分塊大小（建議200-300字符）
3. 設置重疊大小（建議10-20%）
4. 選擇分塊模式（語義分塊建議用"句子"）
5. 添加自定義關鍵詞（可選）

### 步驟3：測試策略效果
1. 在"分塊策略測試"區域輸入測試文本
2. 點擊"Test Strategy"預覽分塊效果
3. 查看分塊統計和內容預覽
4. 根據效果調整策略參數

### 步驟4：上傳文檔
1. 確認策略設置後點擊"Choose Files"
2. 選擇要上傳的文檔
3. 系統會使用選定的策略處理文檔
4. 在文檔列表中查看處理結果

## 📊 功能對比

| 功能 | 原版本 | 新版本 |
|------|--------|--------|
| 分塊策略 | 僅固定長度 | 5種智能策略 |
| 策略選擇 | 無 | 圖形化選擇界面 |
| 參數調整 | 基礎參數 | 高級參數設置 |
| 策略測試 | 無 | 實時預覽測試 |
| 文檔信息 | 基本信息 | 策略+分塊統計 |
| 用戶體驗 | 簡單 | 專業+友好 |

## 🎨 界面特色

### 視覺設計
- **策略卡片**：每個策略都有獨特的圖標和描述
- **推薦標籤**：重要策略標註綠色推薦標籤
- **折疊設置**：高級設置可折疊，保持界面簡潔
- **實時反饋**：測試結果即時顯示

### 交互體驗
- **一鍵測試**：快速預覽分塊效果
- **智能推薦**：根據文檔類型推薦策略
- **詳細統計**：豐富的分塊統計信息
- **錯誤處理**：友好的錯誤提示和回退機制

## 🔧 技術實現

### 前端技術
- **React Hooks**：狀態管理和組件邏輯
- **TypeScript**：類型安全和代碼提示
- **Tailwind CSS**：響應式設計和樣式
- **API集成**：與後端RAG服務無縫對接

### API端點
- `POST /api/v1/mental-health-rag/upload`：支持新分塊策略的文檔上傳
- `POST /api/v1/mental-health-rag/test-chunking`：分塊策略測試
- `GET /api/v1/mental-health-rag/chunking-strategies`：獲取策略信息

## 📈 性能優化

### 前端優化
- **懶加載**：分塊預覽按需加載
- **防抖處理**：避免頻繁API調用
- **錯誤邊界**：優雅的錯誤處理
- **響應式設計**：適配不同屏幕尺寸

### 後端優化
- **策略回退**：增強策略不可用時自動回退
- **並發處理**：支持多文檔並發上傳
- **緩存機制**：策略信息緩存
- **異步處理**：非阻塞文檔處理

## 🎯 使用場景

### 心理健康文檔
- **策略**：語義分塊
- **模式**：句子
- **大小**：200-250字符
- **適用**：心理指南、治療手冊

### 會議記錄
- **策略**：會話分塊
- **模式**：會話
- **大小**：300-400字符
- **適用**：諮詢記錄、會議紀要

### 技術文檔
- **策略**：層次分塊
- **模式**：段落
- **大小**：250-300字符
- **適用**：操作手冊、技術規範

### 混合文檔
- **策略**：自適應分塊
- **模式**：自動
- **大小**：200字符
- **適用**：多類型混合文檔

## 🚀 未來規劃

### 短期目標
- [ ] 添加更多分塊策略
- [ ] 支持自定義分塊規則
- [ ] 增加分塊質量評估
- [ ] 優化移動端體驗

### 長期目標
- [ ] AI驅動的智能分塊
- [ ] 多語言分塊支持
- [ ] 實時協作功能
- [ ] 分塊效果分析儀表板

## 📞 技術支持

如有問題或建議，請聯繫開發團隊：
- 技術文檔：查看 `RAG_CHUNKING_GUIDE.md`
- API文檔：參考 `enhanced_rag_api.py`
- 測試腳本：運行 `test_integration.py`

---

**更新時間**：2024年1月
**版本**：v2.0.0
**狀態**：✅ 已完成並測試
